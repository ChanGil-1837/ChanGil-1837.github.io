# C++와 C#의 차이

프로그래밍을 하다 보면 <b>C++</b>와 <b>C#</b>의 차이를 헷갈릴 때가 많습니다.  
겉보기에는 비슷한 코드가 많지만, 사실 컴파일 방식과 실행 구조가 완전히 다릅니다.  
오늘은 이 차이를 쉽게 풀어볼게요.<br/>

<br/>

## 1. C++ 컴파일: “바로 실행되는 기계어”

C++는 우리가 작성한 코드를 OS가 바로 실행할 수 있는 기계어로 바꿉니다.  
과정을 보면 이렇습니다.<br/>

<b>1) 전처리 단계</b><br/>
#include 같은 지시문을 처리하고, 코드 안에 있는 매크로를 실제 코드로 바꿉니다.<br/>

<b>2) 컴파일 단계</b><br/>
전처리된 코드를 객체 코드로 변환합니다.  
이 단계에서 문법 검사, 타입 체크도 같이 이뤄집니다.<br/>

<b>3) 링킹 단계</b><br/>
여러 개의 객체 코드와 라이브러리를 합쳐 실행 파일을 만듭니다.  
결과적으로 만들어진 파일은 그대로 실행 가능합니다.<br/>

즉, C++로 만든 프로그램은 설치만 하면 바로 실행 가능하고, OS가 이해할 수 있는 기계어로 되어 있습니다.<br/>

<br/>

## 2. C# 컴파일: “중간 단계를 거쳐 실행되는 언어”

C#은 조금 다릅니다.  
C# 코드는 바로 OS에서 실행되는 것이 아니라, <b>중간 언어(IL)</b>로 변환됩니다. 실행은 <b>.NET</b>이 담당합니다.<br/>

<b>1) 컴파일 단계</b><br/>
C# 코드를 IL(Intermediate Language, 중간 언어)로 변환합니다.  
.exe나 .dll 파일 안에 IL 코드와 메타데이터가 담기죠.<br/>

<b>2) 실행 단계</b><br/>
프로그램을 실행하면 <b>CLR(Common Language Runtime)</b>이 IL 코드를 그때그때 기계어로 변환합니다.  
JIT(Just-In-Time) 컴파일 덕분에 필요할 때 최적화된 코드를 만들어 냅니다.<br/>

즉, C# 프로그램은 중간 단계를 거치기 때문에 어느 OS에서나 실행할 수 있고, 런타임에서 최적화가 가능하지만, 바로 실행할 수 있는 파일은 아닙니다.<br/>

<br/>

## 닷넷(.NET)과 CLR

C#의 실행 방식을 이해하기 위해 필수적인 개념인 <b>닷넷</b>과 <b>CLR</b>에 대해 좀 더 자세히 알아볼게요.<br/>

<b>닷넷(.NET)</b><br/>
닷넷은 마이크로소프트가 개발한 소프트웨어 개발 플랫폼입니다.  
C#을 포함한 다양한 언어로 애플리케이션을 개발하고 실행할 수 있는 환경을 제공합니다.  
개발자들이 자주 쓰는 기능들을 미리 만들어 둔 거대한 클래스 라이브러리(FCL)를 제공하여, 개발 편의성을 크게 높여줍니다.  
한마디로, C#이 동작하는 무대라고 할 수 있습니다.<br/>

<b>CLR(Common Language Runtime)</b><br/>
CLR은 닷넷 프로그램의 실행을 담당하는 핵심 엔진입니다.  
자바의 JVM(Java Virtual Machine)과 비슷한 역할을 합니다.  
CLR의 주요 역할은 다음과 같습니다.<br/>

- <b>JIT 컴파일</b>: IL 코드를 OS가 이해하는 기계어로 실시간 변환하여 프로그램을 실행합니다.<br/>
- <b>메모리 관리</b>: 자동으로 사용하지 않는 메모리를 회수하는 가비지 컬렉션 기능을 제공합니다.<br/>
- <b>보안 및 예외 처리</b>: 프로그램이 안전하게 동작하도록 관리합니다.<br/>

결론적으로, CLR은 C# 프로그램이 안정적으로 동작하기 위한 모든 것을 책임지는 실행 엔진입니다.<br/>

<br/>

## 정리하며

- <b>C++</b>는 코드를 OS가 바로 실행하는 기계어로 컴파일합니다.  
  하드웨어를 직접 제어하거나 높은 성능이 요구되는 프로그램(게임 엔진, OS 등) 개발에 주로 사용됩니다.<br/>

- <b>C#</b>은 코드를 중간 언어(IL)로 변환하고, 닷넷 플랫폼 위에서 CLR을 통해 실행됩니다.  
  플랫폼 독립적이고 개발이 편리하여 웹 애플리케이션, 기업용 소프트웨어 등에 많이 활용됩니다.<br/>

두 언어의 근본적인 차이를 이해하면, 프로젝트 성격에 맞는 언어를 선택하는 데 큰 도움이 될 겁니다.<br/>
