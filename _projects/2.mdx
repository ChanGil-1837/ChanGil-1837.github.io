![Image 1](/_projects/2/1.gif)


## 1. 시작은 미약하였으나, 그 끝은 창대…할까?

![Image 2](/_projects/2/2.png)


게임 개발을 하다 보면 누구나 한 번쯤 맞닥뜨리는 거대한 산이 있습니다. 바로 대사 관리입니다.  
엑셀 시트, 텍스트 파일, 심지어 코드에 하드코딩까지… 대사가 길어지고 선택지가 늘어날수록 작업은 지옥이 되어갔습니다.
<br/>
그리고 시각적으로 표현할 수 없는 만큼 기획자 입장에서 대사편집이란 즉 **코딩**이 되어버립니다.
<br/>

> "이 대사 다음엔 뭐가 나오지?"  
> "이 선택지를 고르면 어떤 이벤트가 발생하지?"  

이런 질문에 답을 찾기 위해 수많은 파일을 헤매는 모습을 보며 결심했습니다.

> "그래, 내가 직접 만들자. 대화의 흐름이 한눈에 보이는 시각적 툴을!"

<br/>
---
<br/>

## 1.5 사실은 앱을 만들 생각은 없었다...!

처음부터 앱을 만들 생각은 전혀 없었습니다.  
아래 영상에서 소개된 유니티 GraphView SDK를 공부하면서, 제가 필요로 하는 기능만 골라 수정해 에디터를 만드는 것으로 충분하다고 생각했죠.  
![Image 3](/_projects/2/3.png)
[영상 링크](https://www.youtube.com/watch?v=nvELzBYMK1U&list=PL0yxB6cCkoWK38XT4stSztcLueJ_kTx5f)

유니티 그래프 뷰 SDK를 활용해서 유니티에서 작동하는 에디터를 저 영상을 보고 공부하여 제가 사용할 내용으로 수정했습니다.  
거짐 8개월의 기간을 소요하여 완성하였으나… 새 술은 새 부대에 담으라는 성현들의 가르침에 따라 외장 SSD에 넣고 포멧을 돌렸는데…  

이런… 그만 SSD가 터져버리고 말았습니다.
![Image 4](/_projects/2/4.png)
원인을 찾아보니, 문제는 **exFAT 파일 시스템**이었습니다.  
![Image 5](/_projects/2/5.png)


맥과 윈도우를 동시에 쓰다 보니 외장하드를 공유할 수밖에 없었는데, exFAT은 편리한 대신 베드섹터에 취약하다는 치명적인 단점이 있었던 것이죠.  
<br/>
그 순간, 8개월간의 노력이 허무하게 증발했습니다.  
하지만 여기서 멈출 수는 없었습니다.  
> “차라리 처음부터 다시 만든다”  

결국 파이썬 기반의 새로운 툴을 개발하기로 결심했습니다.
<br/>
---
<br/>
## 2. 기술 스택 선택: 왜 PyQt5였을까?

첫 번째 고민은 ‘어떤 기술로 만들 것인가’였습니다.  
빠르게 프로토타입을 만들고 싶었고, GUI 프레임워크가 필요했죠. Tkinter, Kivy 등 여러 후보가 있었지만 제 눈길을 사로잡은 건 **PyQt5**였습니다.

### PyQt5를 선택한 이유
<br/>
**강력한 QGraphicsScene/View 프레임워크**  
  노드와 그 사이를 잇는 연결선(엣지)을 그리고, 마우스 클릭과 드래그를 처리하는 데 이보다 적합한 도구는 없었습니다.
  <br/>
  <br/>
**시그널/슬롯 메커니즘**  
  객체 간의 통신을 깔끔하게 처리할 수 있었습니다.  
  예를 들어, “데이터가 바뀌면(signal) 화면을 다시 그려라(slot)” 같은 로직을 직관적으로 구현할 수 있었죠.
  <br/>
  <br/>
**풍부한 위젯과 강력한 커스터마이징**  
  기본 제공되는 UI 요소가 풍부했고, QSS(Qt Style Sheet)를 통해 CSS처럼 디자인을 바꿀 수 있는 것도 큰 장점이었습니다.
<br/>
<br/>
그리고 개인적으로 Mac 환경에서 작업 중이며, 이 대사편집기를 사용할 유저는 윈도우인 것을 고려하여 Python으로 제작하기로 마음 먹었습니다.
<br/>
---
<br/>
# 3. 첫걸음: ‘노말 노드’와 ‘선택지 노드’
![Image 6](/_projects/2/6.gif)
에디터의 심장은 바로 **노드**입니다.

가장 먼저 만든 건 기본적인 대사를 담는 **노말 노드(Normal Node)**였습니다.  
화면에 네모 상자를 그리고, 그 안에 대사를 입력할 수 있는 간단한 형태였죠.  
입력점과 출력점을 만들어 노드끼리 연결선을 잇자 제법 ‘에디터다운’ 모습이 갖춰졌습니다.
![Image 7](/_projects/2/7.png)
진짜 도전은 **선택지 노드(Choice Node)**에서 시작됐습니다.  
이 노드는 하나의 입력과 여러 개의 출력을 가져야 했습니다.  
사용자가 선택지 개수를 자유롭게 추가하거나 삭제할 수 있어야 했고, 각 출력선마다 해당 선택지의 텍스트를 표시해야 했습니다.  
데이터 구조가 급격히 복잡해졌지만, 이 노드를 완성하고 나니 드디어 시나리오 분기를 만들 수 있게 되었고, 그 순간의 뿌듯함은 이루 말할 수 없었습니다.
<br/>
---
<br/>
# 4. 디테일의 힘: ‘이름 지정’과 ‘드래그 앤 드롭’

흐름을 만들고 나니 욕심이 생겼습니다.  
> “어떤 캐릭터가 이 대사를 하는지 표시할 수 있으면 좋겠다!”

![Image 9](/_projects/2/8.gif)
그래서 **이름 지정 기능**을 넣었습니다.  
별도의 리스트 위젯에 ‘니나’, ‘알렉스’ 같은 캐릭터 이름을 미리 등록해 두고, 노드 안에서 드롭다운으로 선택할 수 있게 한 거죠.  
단순한 기능이었지만, 가독성은 크게 향상되었습니다.
![Image 8](/_projects/2/12.png)
- 이름에 따라 노드의 색상도 변경
<br/>
<br/>
![Image 10](/_projects/2/9.gif)
그 다음으로 공을 들인 건 **이벤트 노드**였습니다.  
단순히 메뉴에서 ‘이벤트 노드 생성’을 누르는 건 밋밋하다고 생각했어요.  
그래서 화면 한쪽에 이벤트 목록(예: ‘문 열기’, ‘아이템 획득’)을 띄워두고, 원하는 이벤트를 **마우스로 끌어다 놓기(Drag & Drop)**만 하면 그 자리에서 곧바로 이벤트 노드가 생성되게 만들었습니다.

이를 위해 `dragEnterEvent`, `dropEvent`를 오버라이딩했는데, 사용자가 훨씬 직관적으로 에디터를 다룰 수 있게 되어 만족감이 매우 컸습니다.  
이 과정을 거치며 “아, 이게 바로 UX를 고민하는 거구나” 하는 깨달음도 얻었습니다.
<br/>
---
<br/>
# 5. 아차차 조건 분기문도 필요하다!

툴을 만들다 보면 단순히 입력을 받아 출력하는 것만으로는 부족할 때가 있습니다.  
사용자의 선택이나 상황에 따라 다른 흐름을 처리해야 하는 경우가 반드시 생기기 마련이죠.  
![Image 11](/_projects/2/10.gif)
<br/>
처음에는 단순한 자동화만 생각했습니다. 반복되는 작업을 조금이라도 줄이고, 팀원들이 같은 포맷으로 자료를 넘길 수 있도록 도와주려는 목적이었거든요.  
하지만 막상 작업을 진행하다 보니, 조건 분기나 예외 처리 같은 요소들을 고려하지 않으면 금방 한계가 드러났습니다.  
그 과정에서 ‘아차차, 이것도 필요했구나’ 하는 깨달음을 얻게 되었죠.
<br/>
---
<br/>
## 5.5 그 외에도...

물론 단순히 작동만 하는 툴로는 부족했습니다.  

**마지막 참조 위치 기억**: 파일을 불러올 때, 사용자가 가장 최근에 접근한 경로를 자동으로 기억  
**드래그 앤 드롭 로딩**: 세이브 파일을 단순히 끌어다 놓기만 해도 불러올 수 있도록 편의성 강화  
**중간 저장(백업 기능)**: 작업 도중 돌발 상황이 생겨도 데이터가 날아가지 않도록 주기적인 임시 저장 기능  
**버전 호환성 대응**: 업데이트에 따라 데이터 구조가 달라질 수 있기 때문에, NullException을 방지하기 위한 안전 장치 마련
![Image 12](/_projects/2/11.gif)
결국 이런 세세한 부분들이 쌓여, 단순한 “툴”이 아니라 실제로 오랫동안 신뢰할 수 있는 환경이 되도록 만드는 것이 목표였습니다.  
이러고 나니 어느 정도 "어플리케이션" 같은 모습이 보이기 시작했습니다.
<br/>
---
<br/>
# 6. 앞으로의 길

아직 가야 할 길은 멉니다.  

가내수공업처럼 하나하나 만들어가는 툴 제작 과정은 무척 즐거웠지만, 여전히 해결해야 할 버그들이 남아 있습니다.  
그럼에도 불구하고, 유저가 제가 만든 에디터를 통해 자료를 건네줄 때면 큰 보람을 느낍니다.  
특히 제가 만든 포맷으로 대사를 넘겨주니 실수가 줄고, 전체 작업의 통일성도 높아지는 효과를 얻을 수 있었습니다.  

혹시 저처럼 자신만의 툴 제작을 꿈꾸는 분이 계신다면, 망설이지 말고 지금 당장 시작해 보시길 권하고 싶습니다.  
그 과정에서 얻는 경험과 성취감은 결과물 그 자체보다 더 값진 자산이 될 테니까요.


<br/>
---
<br/>
## 관련 링크

[Dialogue Calendar 프로젝트 소개](https://www.youtube.com/watch?v=nvELzBYMK1U&list=PL0yxB6cCkoWK38XT4stSztcLueJ_kTx5f)
[완성본 샘플](https://github.com/ChanGil-1837/Avalonia_DialogueCalendarApp)
[도움 받은 영상](https://www.youtube.com/watch?v=xbTLhMJARrk&list=PLZSNHzwDCOggHLThIbCxUhWTgrKVemZkz)
