# 私の机の上の小さな猫、UnityでLive2Dウィジェットを作る

こんにちは！ 長い間作ってみたかったプログラムをついに完成させたので、開発後記を共有します。机の上で飼う自分だけの猫ウィジェットです！

コーディングや勉強をしていると、画面の片隅にかわいい何かがあったらいいなとよく思っていましたが、Live2DとUnityを使って自分で作ってみることにしました。

![Image 1](/_projects/4/1.gif)

<br/>
---
<br/>

## 主な機能紹介

ただ浮いているだけでは退屈ですよね？ 猫と触れ合えるいくつかの機能を入れてみました。

<br/>
---
<br/>

### 1. 生きているような動き

まず第一に気を使ったのは、猫が本当に生きているように見せることでした。

**呼吸**：じっとしている時も、お腹が少し上下して息をしています。<br/>
![Image 1](/_projects/4/2.gif)
**視線処理**：マウスカーソルが猫の近くに行くと、視線を追って動きます。<br/>
![Image 1](/_projects/4/4.gif)
**物理ベースの頭の動き**：マウスで猫の頭をそっと押すと、物理法則が適用されたかのように滑らかに揺れてから止まります。本物の猫の頭を撫でているような感じを出したかったです。<br/>

<br/>
---
<br/>

### 2. 猫との触れ合い

直接猫と対話する楽しさを感じられるように作りました。
![Image 1](/_projects/4/5.gif)
**撫でる**：猫の頭をクリックして優しくドラッグすると、撫でるモーションが再生されます。長い間撫でてあげると、満足する特別なアニメーションも見ることができます。<br/>
![Image 1](/_projects/4/3.gif)
**持ち上げる**：猫の頭を掴んで上にぐいっと持ち上げると、本当に猫を持ち上げたかのようにぶら下がります。この状態で左右に揺らすこともできます。<br/>
**しっぽを掴む（秘密の機能！）**：しっぽを5秒以上長押しすると、猫が特別な反応を見せてくれます。<br/>
<br/>
---
<br/>

### 3. 時には特別なことが起こります

ずっと同じ行動ばかりでは退屈なので、いくつかのランダム要素を追加しました。
![Image 1](/_projects/4/5.gif)
**ランダムな行動**：猫をじっとさせておくと、20秒ごとにあくびをしたり、伸びをしたりするなど、あらかじめ用意された他の行動をランダムに見せてくれます。<br/>
![Image 1](/_projects/4/6.gif)
**蝶の登場**：時々、猫の周りを蝶が飛び回ることもあります。蝶が現れると、猫の視線がしばらく蝶を追いかけます。<br/>
![Image 1](/_projects/4/7.gif)
**きゅうりを投げる**：ボタンを押すと、画面の外からきゅうりが飛んできます。猫はびっくりして飛んでくるきゅうりを見つめます。<br/>

<br/>
---
<br/>

## 開発過程で使用した技術

**Engine**: Unity<br/>
**Character**: Live2D Cubism SDK<br/>
**Animation**: DOTweenライブラリを使用して、滑らかな動きを実装しました。<br/>
**Script**: C#をベースに、GameManagerで全体的な状態（撫でる、持ち上げるなど）を管理し、Controllerで物理ベースの頭の動きを処理するように役割を分離しました。<br/>
<br/>
<br/>
---
<br/>

## 最後に

机の上でちょこまか動く小さな猫がいると、作業環境がずっと和やかになった気がします。簡単なアイデアから始めましたが、一つずつ機能を追加していくうちに、私自身も楽しく開発できたプロジェクトでした。

今後は、さらに多様なインタラクションや着せ替え機能を追加してみようかと考えています。長い文章を読んでいただき、ありがとうございました！
[完成版サンプル](https://github.com/ChanGil-1837/Widget)